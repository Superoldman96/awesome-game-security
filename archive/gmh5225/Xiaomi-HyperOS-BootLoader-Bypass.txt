Project Path: arc_gmh5225_Xiaomi-HyperOS-BootLoader-Bypass_azyi7tzu

Source Tree:

```txt
arc_gmh5225_Xiaomi-HyperOS-BootLoader-Bypass_azyi7tzu
â”œâ”€â”€ bypass.php
â”œâ”€â”€ docs
â”‚   â”œâ”€â”€ README-ja.md
â”‚   â”œâ”€â”€ README-zh.md
â”‚   â””â”€â”€ README.md
â””â”€â”€ libraries
    â””â”€â”€ placeholder

```

`bypass.php`:

```php
<?php
/**
 *
 *    Copyright (C) 2002-2024 NekoYuzu (MlgmXyysd) All Rights Reserved.
 *    Copyright (C) 2013-2024 MeowCat Studio All Rights Reserved.
 *    Copyright (C) 2020-2024 Meow Mobile All Rights Reserved.
 *
 */

/**
 *
 * Xiaomi HyperOS BootLoader Bypass
 *
 * https://github.com/MlgmXyysd/Xiaomi-BootLoader-Bypass
 *
 * Bypass Xiaomi HyperOS community restrictions of BootLodaer unlock account bind.
 *
 * Environment requirement:
 *   - PHP 8.0+
 *   - OpenSSL Extension
 *   - Curl Extension
 *   - ADB
 *
 * @author MlgmXyysd
 * @version 1.0
 *
 * All copyright in the software is not allowed to be deleted
 * or changed without permission.
 *
 */

/***********************
 *    Configs Start    *
 ***********************/

// Global flag
// If you are running a Global ROM (Non-China Mainland), set it to true
$useGlobal = false;

/*********************
 *    Configs End    *
 *********************/


/***************************************
 *               WARNING               *
 *    Do NOT modify the codes below    *
 *               WARNING               *
 ***************************************/

// Include php-adb library
// https://github.com/MlgmXyysd/php-adb

require_once __DIR__ . DIRECTORY_SEPARATOR . "adb.php";

use MeowMobile\ADB;

/*************************
 *    Constants Start    *
 *************************/

global $api;
global $sign_key;
global $data_pass;
global $data_iv;

$api = $useGlobal ? "https://unlock.update.intl.miui.com/v1/" : "https://unlock.update.miui.com/v1/";
$sign_key = "10f29ff413c89c8de02349cb3eb9a5f510f29ff413c89c8de02349cb3eb9a5f5";
$data_pass = "20nr1aobv2xi8ax4";
$data_iv = "0102030405060708";

$version = "1.0";

/***********************
 *    Constants End    *
 ***********************/

/*************************
 *    Functions Start    *
 *************************/

/**
 * Formatted Log
 * @param  $a  ADB    required  ADB instance
 * @return     array            List of connected adb devices
 * @author NekoYuzu (MlgmXyysd)
 * @date   2022/03/24 14:01:03
 */

function parseDeviceList(ADB $a): array
{
    $s = $a -> refreshDeviceList();
    $t = array();
    foreach ($s as $d) {
        if ($d["status"] === $a::CONNECT_TYPE_DEVICE) {
            $t[] = array($d["serial"], $d["transport"]);
        }
    }
    return $t;
}

/**
 * Formatted Log
 * @param  $m  string  optional  Message
 * @param  $c  string  optional  Color
 * @param  $p  string  optional  Indicator
 * @param  $t  string  optional  Type (Level)
 * @author NekoYuzu (MlgmXyysd)
 * @date   2022/03/24 14:50:01
 */

function logf(string $m = "", string $c = "", string $p = "-", string $t = "I"): void
{
	switch (strtoupper($c)) {
		case "G":
			$c = "\033[32m";
			break;
		case "R":
			$c = "\033[31m";
			break;
		case "Y":
			$c = "\033[33m";
			break;
		default:
			$c = "";
	}
	switch (strtoupper($t)) {
		case "W":
			$t = "WARN";
			break;
		case "E":
			$t = "ERROR";
			break;
		case "I":
		default:
			$t = "INFO";
	}
	print(date("[Y-m-d] [H:i:s]") . " [" . $t . "] " . $p . " " . $c . $m . "\033[0m" . PHP_EOL);
}

/**
 * Curl HTTP wrapper function
 * @param  $url      string  required  Target url
 * @param  $method   string  required  Request method
 * @param  $fields   array   optional  Request body
 * @param  $header   array   optional  Request header
 * @param  $useForm  bool    optional  Treat request body as urlencoded form
 * @return           array             Curl response
 * @author NekoYuzu (MlgmXyysd)
 * @date   2023/11/20 23:50:39
 */

function http(string $url, string $method, array $fields = array(), array $header = array(), bool $useForm = false): array
{
	if ($useForm) {
		$fields = http_build_query($fields);
	}
    $curl = curl_init();
    curl_setopt_array($curl, array(
		CURLOPT_URL => $url,
		CURLOPT_RETURNTRANSFER => true,
		CURLOPT_ENCODING => "",
		CURLOPT_SSL_VERIFYPEER => false,
		CURLOPT_SSL_VERIFYHOST => false,
		CURLOPT_MAXREDIRS => 10,
		CURLOPT_CONNECTTIMEOUT => 2,
		CURLOPT_TIMEOUT => 6,
		CURLOPT_CUSTOMREQUEST => $method,
		CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
		CURLOPT_POST => $method == "POST",
		CURLOPT_POSTFIELDS => $fields,
		CURLOPT_HTTPHEADER => $header
    ));

    $response = curl_exec($curl);
    $info = curl_getinfo($curl);
    $info["errno"] = curl_errno($curl);
    $info["error"] = curl_error($curl);
    $info["request"] = json_encode($fields);
    $info["response"] = $response;
    curl_close($curl);
    return $info;
}

/**
 * HTTP POST wrapper
 * @param  $_api     string  required  Target endpoint
 * @param  $data     array   optional  Request body
 * @param  $header   array   optional  Request header
 * @param  $useForm  bool    optional  Treat request body as urlencoded form
 * @return           array             Curl response
 * @return           false             Response code is not HTTP 200 OK
 * @author NekoYuzu (MlgmXyysd)
 * @date   2023/11/20 23:55:41
 */

function postApi(string $_api, array $data = array(), array $header = array(), bool $useForm = false): array|false
{
    $response = http($GLOBALS["api"] . $_api, "POST", $data, $header, $useForm);
    if ($response["http_code"] != 200) {
        return false;
    }
    return json_decode($response["response"], true);
}

/**
 * Sign data using HMAC SHA-1
 * @param  $data  string  required  Data to sign
 * @return        string            Signed hash
 * @author NekoYuzu (MlgmXyysd)
 * @date   2023/11/21 00:20:56
 */

function signData(string $data): string
{
    return strtolower(bin2hex(hash_hmac("sha1", "POST\n/v1/unlock/applyBind\ndata=" . $data . "&sid=miui_sec_android", $GLOBALS["sign_key"], true)));
}

/**
 * Decrypt data using AES/CBC/PKCS5Padding
 * @param  $data  string  required  Data to decrypt
 * @return        string            Decrypted data
 * @return        false             Failed to decrypt
 * @author NekoYuzu (MlgmXyysd)
 * @date   2023/11/21 00:15:30
 */

function decryptData(string $data): string|false
{
	return openssl_decrypt(base64_decode($data), "AES-128-CBC", $GLOBALS["data_pass"], OPENSSL_RAW_DATA, $GLOBALS["data_iv"]);
}

/***********************
 *    Functions End    *
 ***********************/

/**********************
 *    Banner Start    *
 **********************/

logf("************************************", "g");
logf("* Xiaomi HyperOS BootLoader Bypass *", "g");
logf("* By NekoYuzu          Version " . $version . " *", "g");
logf("************************************", "g");
logf("GitHub: https://github.com/MlgmXyysd");
logf("XDA: https://xdaforums.com/m/mlgmxyysd.8430637");
logf("X (Twitter): https://x.com/realMlgmXyysd");
logf("PayPal: https://paypal.me/MlgmXyysd");
logf("My Blog: https://www.neko.ink/");
logf("************************************", "g");

/********************
 *    Banner End    *
 ********************/

/********************
 *    Main Logic    *
 ********************/

logf("Starting ADB server...");

$adb = new ADB(__DIR__ . DIRECTORY_SEPARATOR . "libraries");

$devices = parseDeviceList($adb);
$devices_count = count($devices);

while ($devices_count != 1) {
	if ($devices_count == 0) {
		logf("Waiting for device connection...");
	} else {
		logf("Only one device is allowed to connect, disconnect others to continue. Current number of devices: " . $devices_count);
	}
	sleep(1);
	$devices = parseDeviceList($adb);
	$devices_count = count($devices);
}

$device = $devices[0];
$id = $adb -> getDeviceId($device[1], true);
logf("Processing device " . $device[0] . "(" . $device[1] . ")...");

$adb -> clearLogcat($id);
$adb -> runAdb($id . "shell svc data enable");

logf("Finding BootLoader unlock bind request...");

$focus = $adb -> getCurrentActivity();
if ($focus[0] != "com.android.settings") {
	if ($focus[0] != "NotificationShade") {
		$adb -> runAdb($id . "shell am start -a android.settings.APPLICATION_DEVELOPMENT_SETTINGS");
	}
} else {
	if ($focus[1] != "com.android.settings.bootloader.BootloaderStatusActivity") {
		$adb -> runAdb($id . "shell am start -a android.settings.APPLICATION_DEVELOPMENT_SETTINGS");
	}
}
logf("Now you can bind account in the developer options.", "y", "*");

$args = $headers = null;

$process = proc_open($adb -> bin . " " . $id . "logcat *:S CloudDeviceStatus:V", array(
	1 => ["pipe", "w"]
), $pipes);

if (is_resource($process)) {
    while (!feof($pipes[1])) {
        $output = fgets($pipes[1]);

        if (str_contains($output, "CloudDeviceStatus: args:")) {
            if (preg_match("/args:(.*)/", $output, $matches)) {
                $args = trim($matches[1]);
            }
			$adb -> runAdb($id . "shell svc data disable");
        }

        if (str_contains($output, "CloudDeviceStatus: headers:")) {
            if (preg_match("/headers:(.*)/", $output, $matches)) {
                $headers = trim($matches[1]);
            }
			logf("Account bind request found! Let's block it.");
            break;
        }
    }

    fclose($pipes[1]);
}

logf("Refactoring parameters...");

$data = json_decode(decryptData($args), true);

// V816 is the special identity for HyperOS in MIUI version
$data["rom_version"] = str_replace("V816", "V14", $data["rom_version"]);

$data = json_encode($data);
$sign = signData($data);

$headers = decryptData($headers);
$cookies = null;
if (preg_match("/Cookie=\[(.*)\]/", $headers, $matches)) {
	$cookies = trim($matches[1]);
}

logf("Sending POST request...");
$res = postApi("unlock/applyBind", array(
	"data" => $data,
	"sid" => "miui_sec_android",
	"sign" => $sign
), array(
	"Cookie: " . $cookies,
	"Content-Type: application/x-www-form-urlencoded"
), true);

$adb -> runAdb($id . "shell svc data enable");

if (!$res) {
	logf("Fail to send request, check your internet connection.", "r", "!");
	exit();
}

switch ($res["code"]) {
	case 0:
		logf("Target account: " . $res["data"]["userId"], "g");
		logf("Account bound successfully, wait time can be viewed in the unlock tool.", "g");
		break;
	case 401:
		logf("Account credentials have expired, re-login to your account in your phone. (401)", "y");
		break;
	case 20086:
		logf("Device credentials expired. (20086)", "y");
		break;
	case 30001:
		logf("Binding failed, this device has been forced to verify the account qualification by Xiaomi. (30001)", "y");
		break;
	case 86015:
		logf("Fail to bind account, invalid device signature. (86015)", "y");
		break;
	default:
		logf($res["descEN"] . " (" . $res["code"] . ")", "y");
}

```

`docs/README-ja.md`:

```md
# Xiaomi HyperOS BootLoader Bypass

![Version: 1.0](https://img.shields.io/badge/Version-1.0-brightgreen?style=for-the-badge) [![English](https://img.shields.io/badge/English-brightgreen?style=for-the-badge)](README.md) [![ä¸­æ–‡æ–‡æ¡£](https://img.shields.io/badge/ä¸­æ–‡æ–‡æ¡£-brightgreen?style=for-the-badge)](README-zh.md)

è„†å¼±æ€§ã‚’æ‚ªç”¨ã—ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ¬ãƒ™ãƒ«ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒ‰åˆ¶é™ã‚’ãƒã‚¤ãƒ‘ã‚¹ã—ã¦ã€Xiaomi HyperOS ã® BootLoader ã®ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã§ãã‚‹ PoCã€‚

Pull reqeust ã§ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ”¹å–„ã‚’ææ¡ˆã§ãã¾ã™ :)

## ğŸ’˜ php-adb

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ [php-adb](https://github.com/MlgmXyysd/php-adb) ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

## â˜• ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’å¥¢ã‚‹

âœ¨ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒæ°—ã«å…¥ã£ãŸã‚‰ã€ä»¥ä¸‹ã®æ–¹æ³•ã§ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’å¥¢ã£ã¦ãã ã•ã„ï¼š

 - [AFDIAN](https://afdian.net/@MlgmXyysd)
 - [PayPal](https://paypal.me/MlgmXyysd)
 - [Patreon](https://www.patreon.com/MlgmXyysd)

## âš ï¸ è­¦å‘Š

BootLoader ã®ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã—ãŸå¾Œã€ä»¥ä¸‹ã®å•é¡ŒãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼š

- ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ç•°å¸¸å‹•ä½œï¼ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®æå‚·
- ãƒ‡ãƒã‚¤ã‚¹ã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ã®æå¤±
- ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã®ç›—é›£ã€ã¾ãŸã¯ãã®ä»–ã®çµŒæ¸ˆçš„æå¤±

ä¸Šè¨˜ã®ã„ãšã‚Œã‹ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€BootLoader ã®ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã™ã‚‹éš›ã«ç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãƒªã‚¹ã‚¯ã§ã‚ã‚‹ãŸã‚ã€ã™ã¹ã¦ã®è²¬ä»»ã¯è‡ªåˆ†ã§è² ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚  
ã“ã‚Œã¯æ˜ã‚‰ã‹ã«ã™ã¹ã¦ã®ãƒªã‚¹ã‚¯ã‚’ä¿éšœã™ã‚‹ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚**è­¦å‘Šã—ã¾ã—ãŸã‹ã‚‰ã­**ã€‚

- ä¿è¨¼é©ç”¨å¤–  
  åŸºæœ¬ä¿è¨¼ã ã‘ã§ãªãã€è³¼å…¥ã—ãŸè¿½åŠ ã®å»¶é•·ä¿è¨¼ã®ä¸€éƒ¨ (Mi Care ã‚„ç”»é¢ç ´æã®ä¿è¨¼ãªã©) ã‚‚ã€Xiaomi ãŒæä¾›ã™ã‚‹é™¤å¤–è¦å®šã«å¾“ã£ã¦å¤±ã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
- TEE é–¢é€£ã®æ©Ÿèƒ½ã¯æ°¸ä¹…ã«ä½¿ç”¨ä¸å¯èƒ½ã§ã™ã€‚  
  Samsung Knox ã®ã‚ˆã†ã«ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ ãƒ¬ãƒ™ãƒ«ã§è‡ªå·±ç ´å£Šã™ã‚‹ãŸã‚ã€ãƒã‚¶ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’äº¤æ›ã™ã‚‹ä»¥å¤–ã«å¾©æ—§æ–¹æ³•ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
- ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰éå…¬é–‹ã®ã‚«ãƒ¼ãƒãƒ«ãŒåŸå› ã§ã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ ã‚·ã‚¹ãƒ†ãƒ ã‚’ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã—ãŸå¾Œã®æ©Ÿèƒ½ç•°å¸¸
- BootLoader ã®ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã™ã‚‹ã¨ã€ãƒ‡ãƒã‚¤ã‚¹ã¾ãŸã¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒ BAN ã•ã‚Œã¾ã™ã€‚

ä¸Šè¨˜ã®ã„ãšã‚Œã‹ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€é‹ãŒæ‚ªã„ã¨æ€ã£ã¦ãã ã•ã„ã€‚  
Xiaomi ãŒ BootLoader ã®ãƒ­ãƒƒã‚¯è§£é™¤ã‚’åˆ¶é™ã—ã¦ä»¥æ¥ã€Xiaomi ã®ã€Œã‚ªã‚¿ã‚¯ã€ç²¾ç¥ã€ã•ã‚‰ã«ã¯ GPL ã«ã‚‚é•åã—ã¦ã„ã¾ã™ã€‚  
BootLoader ã®ãƒ­ãƒƒã‚¯è§£é™¤ã«å¯¾ã™ã‚‹ Xiaomi ã®åˆ¶é™ã¯ç„¡é™ã§ã‚ã‚Šã€é–‹ç™ºè€…ã¨ã—ã¦ãã‚Œã«å¯¾ã—ã¦ã§ãã‚‹ã“ã¨ã¯ä½•ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚

## ğŸ“² ã‚¢ãƒ³ãƒ­ãƒƒã‚¯è¦ä»¶

- å¯¾è±¡ãƒ‡ãƒã‚¤ã‚¹ï¼š
  - BAN ã•ã‚Œã¦ã„ãªã„(â€») Xiaomiã€Redmiã€ã¾ãŸã¯ POCO ãƒ‡ãƒã‚¤ã‚¹
  - ãƒ‡ãƒã‚¤ã‚¹ãŒ HyperOS ã®å…¬å¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹
  - (2023/11/23 ã«è¿½è¨˜) ãƒ‡ãƒã‚¤ã‚¹ã¯ Xiaomi ã«ã‚ˆã£ã¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è³‡æ ¼ç¢ºèªã‚’å¼·åˆ¶ã•ã‚Œãªã„
- æœ‰åŠ¹ãª SIM ã‚«ãƒ¼ãƒ‰ï¼š
  - SIM ã‚«ãƒ¼ãƒ‰ãŒä½¿ç”¨ã§ããªã„ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã‚’é™¤ã(â€»)
  - SIM ã‚«ãƒ¼ãƒ‰ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒä½¿ç”¨ä¸èƒ½ã«ãªã£ã¦ã„ãªã„
  - SIM ã‚«ãƒ¼ãƒ‰ã¯ãƒ¢ãƒã‚¤ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
  - æœ‰åŠ¹ãª SIM ã‚«ãƒ¼ãƒ‰æ¯ã«ã€ï¼“ã‹æœˆä»¥å†…ã« ï¼’å°ã®ãƒ‡ãƒã‚¤ã‚¹ã®ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã§ãã¾ã™ã€‚
- æœ‰åŠ¹ãª Xiaomi ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
  - BAN ã•ã‚Œã¦ã„ãªã„(â€») Xiaomi ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
  - å„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã§ãã‚‹ã®ã¯ã€ï¼‘ãƒ¶æœˆã§ï¼‘å°ã€ï¼‘å¹´ã§ï¼“å°ã®ã¿ã§ã™ã€‚
- ä¸Šè¨˜ã® [è­¦å‘Š](#%EF%B8%8F-è­¦å‘Š) ã‚’èª­ã¿ã€ç†è§£ã—ãŸã‚‚ã®ã¨ã—ã¾ã™ã€‚

- â€» Xiaomi ãŒæä¾›ã™ã‚‹ãƒ­ãƒƒã‚¯è§£é™¤æ‰‹é †ã«ã‚ˆã‚‹ã¨ã€ç‰¹å®šã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ãƒ‡ãƒã‚¤ã‚¹ã¯ãƒ­ãƒƒã‚¯è§£é™¤ãƒ„ãƒ¼ãƒ«ã®ä½¿ç”¨ã‚’ç¦æ­¢ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€Œãƒªã‚¹ã‚¯ç®¡ç†ã€ã¨å‘¼ã°ã‚Œã¦ã„ã¾ã™ã€‚

## âš™ï¸ ä½¿ç”¨æ–¹æ³•
1. [å…¬å¼ã‚µã‚¤ãƒˆ](https://www.php.net/downloads) ã‹ã‚‰ã‚·ã‚¹ãƒ†ãƒ ã« PHP 8.0+ ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
2. `php.ini` ã§ OpenSSL ã¨ Curl æ‹¡å¼µæ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚
3. [php-adb](https://github.com/MlgmXyysd/php-adb) ã® `adb.php` ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ã—ã¾ã™ã€‚
4. [platform-tools](https://developer.android.com/studio/releases/platform-tools?hl=ja#downloads) ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦`libraries` ã«å±•é–‹ã—ã¾ã™ã€‚
  â€»æ³¨æ„: Mac OS ã§ã¯ã€`adb` ã®åå‰ã‚’ `adb-darwin` ã«å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
5. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ãã€PHP ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ—ãƒªã‚¿ãƒ¼ã‚’ä½¿ç”¨ã—ã¦[ã‚¹ã‚¯ãƒªãƒ—ãƒˆ](../bypass.php)ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

- P.S. [Releases](https://github.com/MlgmXyysd/Xiaomi-HyperOS-BootLoader-Bypass/releases/latest) ã«ã¯ã€å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã¨ã‚¯ã‚¤ãƒƒã‚¯å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒåŒæ¢±ã•ã‚Œã¦ã„ã¾ã™ã€‚

6. `è¨­å®š`â†’`ãƒ‡ãƒã‚¤ã‚¹æƒ…å ±`â†’`MIUIãƒãƒ¼ã‚¸ãƒ§ãƒ³`ã‚’ï¼—å›ä»¥ä¸Šé€£ç¶šã§ã‚¿ãƒƒãƒã—ã¦`é–‹ç™ºè€…å‘ã‘ã‚ªãƒ—ã‚·ãƒ§ãƒ³`ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚
7. `è¨­å®š`â†’`è¿½åŠ è¨­å®š`â†’`é–‹ç™ºè€…å‘ã‘ã‚ªãƒ—ã‚·ãƒ§ãƒ³`ã§ã€`OEMãƒ­ãƒƒã‚¯è§£é™¤`ã€`USBãƒ‡ãƒãƒƒã‚°`ã€`USBãƒ‡ãƒãƒƒã‚° (ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š)` ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚
8. **æœ‰åŠ¹ãª**(â€») Xiaomi ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚
9. ãƒ‡ãƒã‚¤ã‚¹ã‚’å„ªå…ˆã§PCã«æ¥ç¶šã—ã¾ã™ã€‚
10. `ã“ã®PCã‹ã‚‰ã®USBãƒ‡ãƒã‚¤ã‚¹ã‚’å¸¸ã«è¨±å¯ã™ã‚‹` ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ã‹ã‚‰ `>OK` ã‚’æŠ¼ã—ã¾ã™ã€‚

- â€» ä¸Šè¨˜ã®["ã‚¢ãƒ³ãƒ­ãƒƒã‚¯è¦ä»¶"](#-ã‚¢ãƒ³ãƒ­ãƒƒã‚¯è¦ä»¶)ã‚’ç¢ºèªã—ã¦ä¸‹ã•ã„ã€‚

11. ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æŒ‡ç¤ºã«å¾“ã„å¾…æ©Ÿã—ã¾ã™ã€‚
12. ãƒã‚¤ãƒ³ãƒ‰ãŒæˆåŠŸã—ãŸã‚‰ã€[å…¬å¼ã®ãƒ­ãƒƒã‚¯è§£é™¤ãƒ„ãƒ¼ãƒ«](https://www.miui.com/unlock/index.html)ã‚’ä½¿ç”¨ã—ã¦ã€è§£é™¤ãŒå¯èƒ½ã«ãªã‚‹ã¾ã§ã®å¾…æ©Ÿæ™‚é–“ã‚’ç¢ºèªã§ãã¾ã™ã€‚
13. å¾…æ©Ÿæ™‚é–“ä¸­ã¯ã€ãƒ‡ãƒã‚¤ã‚¹ã‚’é€šå¸¸ã©ãŠã‚Šä½¿ç”¨ã—ã€SIM ã‚«ãƒ¼ãƒ‰ã‚’æŒ¿å…¥ã—ãŸã¾ã¾ã«ã—ã€Xiaomi ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ãŸã‚Šã€`ãƒ‡ãƒã‚¤ã‚¹ã‚’æ¢ã™`ã‚’ã‚ªãƒ•ã«ã—ãŸã‚Šã›ãšã€ãƒ­ãƒƒã‚¯ãŒæ­£å¸¸ã«è§£é™¤ã•ã‚Œã‚‹ã¾ã§ãƒ‡ãƒã‚¤ã‚¹ã‚’å†ãƒã‚¤ãƒ³ãƒ‰ã—ãªã„ã§ãã ã•ã„ã€‚  
  ãƒ‡ãƒã‚¤ã‚¹ã¯å®šæœŸçš„ã«`HeartBeat`ãƒ‘ã‚±ãƒƒãƒˆã‚’ã‚µãƒ¼ãƒãƒ¼ã«è‡ªå‹•çš„ã«é€ä¿¡ã—ã¾ã™ã€‚

## ğŸ“– å›é¿ç­–

- æº–å‚™ä¸­...

## ğŸ”– FAQ

- Q: ãƒ­ãƒƒã‚¯è§£é™¤ãƒ„ãƒ¼ãƒ«ãŒä¾ç„¶ã¨ã—ã¦ 168/360 (ã¾ãŸã¯ãã‚Œä»¥ä¸Š) æ™‚é–“å¾…ã¤ã‚ˆã†ã«è¦æ±‚ã™ã‚‹ã®ã¯ãªãœã§ã™ã‹ï¼Ÿ
  - A: åŸå‰‡ã¨ã—ã¦ã€ã“ã® PoC ã¯ã€Xiaomi ãŒ HyperOS ã«å¯¾ã—ã¦è¿½åŠ ã—ãŸè¿½åŠ ã®åˆ¶é™ã‚’å›é¿ã™ã‚‹ã ã‘ã§ã™ã€‚  
    MIUI ã®åˆ¶é™ã«å¾“ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

- Q: ãƒ‡ãƒã‚¤ã‚¹ã« `Couldn't verify, wait a minute or two and try again` ã¨è¡¨ç¤ºã•ã‚Œã‚‹ã€‚
  - A: ã“ã‚Œã¯æ­£å¸¸ã§ã‚ã‚Šã€ãƒ‡ãƒã‚¤ã‚¹å´ã®ãƒã‚¤ãƒ³ãƒ‰è¦æ±‚ã¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã‚ˆã£ã¦ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚  
    å®Ÿéš›ã®ãƒã‚¤ãƒ³ãƒ‰çµæœã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å½±éŸ¿ã‚’å—ã‘ã¾ã™ã€‚

- Q: ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ `401` ã§ãƒã‚¤ãƒ³ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸã€‚
  - A: Xiaomi ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®èªè¨¼æƒ…å ±ã®æœ‰åŠ¹æœŸé™ãŒåˆ‡ã‚Œã¦ã„ã‚‹ãŸã‚ã€ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¦å†åº¦ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

- Q: ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ `20086` ã§ãƒã‚¤ãƒ³ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸã€‚
  - A: ãƒ‡ãƒã‚¤ã‚¹ã®èªè¨¼æƒ…å ±ã®æœ‰åŠ¹æœŸé™ãŒåˆ‡ã‚Œã¦ã„ã‚‹ãŸã‚ã€ãƒ‡ãƒã‚¤ã‚¹ã‚’å†èµ·å‹•ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

- Q: ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ `20090` ã¾ãŸã¯ `20091` ã§ãƒã‚¤ãƒ³ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸã€‚
  - A: ãƒ‡ãƒã‚¤ã‚¹ã® `Security Device Credential Manager` æ©Ÿèƒ½ãŒç ´æã—ã¦ã„ã¾ã™ã€‚  
    ã‚µãƒãƒ¼ãƒˆã«ã¤ã„ã¦ã¯ã‚¢ãƒ•ã‚¿ãƒ¼ã‚µãƒ¼ãƒ“ã‚¹ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚

- Q: ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ `30001` ã§ãƒã‚¤ãƒ³ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸã€‚
  - A: ãƒ‡ãƒã‚¤ã‚¹ã¯ã€Xiaomi ã«ã‚ˆã£ã¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è³‡æ ¼ç¢ºèªã‚’å¼·åˆ¶ã•ã‚Œã¾ã—ãŸã€‚  
    Xiaomi ã¯ãšã£ã¨å‰ã«ã€Œã‚ªã‚¿ã‚¯ã€ã®ç²¾ç¥ã‚’å¤±ã£ã¦ãŠã‚Šã€ãã‚Œã«ã¤ã„ã¦ç§ãŸã¡ã«ã§ãã‚‹ã“ã¨ã¯ä½•ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚

- Q: ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ `86015` ã§ãƒã‚¤ãƒ³ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸã€‚
  - A: ã‚µãƒ¼ãƒãƒ¼ãŒãƒã‚¤ãƒ³ãƒ‰è¦æ±‚ã‚’æ‹’å¦ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦è©¦ã—ã¦ãã ã•ã„ã€‚

## âš–ï¸ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãŒãªã„å ´åˆã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ç”¨ã®ã¿ãŒè¨±å¯ã•ã‚Œã¾ã™ã€‚  
ã“ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ï¼ˆãŠã‚ˆã³ãƒªãƒ³ã‚¯ãªã©ï¼‰ã®ã™ã¹ã¦ã®è‘—ä½œæ¨©ã‚’è¨±å¯ãªãå‰Šé™¤ã¾ãŸã¯å¤‰æ›´ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚  
ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã™ã¹ã¦ã®æ¨©åˆ©ã¯ã€[MeowCat Studio](https://github.com/MeowCat-Studio)ã€[Meow Mobile](https://github.com/Meow-Mobile)ã€[NekoYuzu](https://github.com/MlgmXyysd) ã«å¸°å±ã—ã¾ã™ã€‚

```

`docs/README-zh.md`:

```md
# Xiaomi HyperOS BootLoader Bypass

![Version: 1.0](https://img.shields.io/badge/Version-1.0-brightgreen?style=for-the-badge) [![English](https://img.shields.io/badge/English-brightgreen?style=for-the-badge)](README.md) [![æ—¥æœ¬èª](https://img.shields.io/badge/æ—¥æœ¬èª-brightgreen?style=for-the-badge)](README-ja.md)

åˆ©ç”¨æ¼æ´ç»•è¿‡å°ç±³ HyperOS å¯¹ BootLoader è§£é”è´¦æˆ·ç»‘å®šé™åˆ¶ç¤¾åŒºç­‰çº§çš„ PoCã€‚

æ‚¨å¯éšæ—¶å‘æœ¬é¡¹ç›®æå‡ºæ”¹è¿›æ–¹æ¡ˆ :)

## ğŸ’˜ php-adb

æœ¬é¡¹ç›®ä½¿ç”¨äº† [php-adb](https://github.com/MlgmXyysd/php-adb) è¿è¡Œåº“ã€‚

## â˜• æ”¯æŒå¼€å‘

âœ¨ å¦‚æœæ‚¨å–œæ¬¢æˆ‘çš„é¡¹ç›®ï¼Œå¯ä»¥è¯·æˆ‘å–å’–å•¡:

 - [çˆ±å‘ç”µ](https://afdian.net/@MlgmXyysd)
 - [PayPal](https://paypal.me/MlgmXyysd)
 - [Patreon](https://www.patreon.com/MlgmXyysd)

## âš ï¸ è­¦å‘Š

è§£é” BootLoader åï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹æƒ…å†µï¼š

- è½¯ä»¶æˆ–ç¡¬ä»¶æ— æ³•æ­£å¸¸å·¥ä½œï¼Œç”šè‡³æ°¸ä¹…æ€§æŸåã€‚
- è®¾å¤‡ä¸­å­˜å‚¨çš„æ•°æ®ä¸¢å¤±ã€‚
- ä¿¡ç”¨å¡è¢«ç›—åˆ·ï¼Œæˆ–é­å—å…¶ä»–ç»æµæŸå¤±ã€‚

å¦‚æœæ‚¨é‡åˆ°ä¸Šè¿°ä»»ä½•æƒ…å†µï¼Œæ‚¨åº”è¯¥è‡ªå·±æ‰¿æ‹…æ‰€æœ‰è´£ä»»ï¼Œå› ä¸ºè¿™æ˜¯æ‚¨åœ¨è§£é” BootLoader æ—¶å¯èƒ½é‡åˆ°çš„é£é™©ã€‚è¿™æ˜¾ç„¶ä¸èƒ½æ¶µç›–æ‰€æœ‰é£é™©ã€‚æˆ‘ä»¬å·²ç»è­¦å‘Šè¿‡æ‚¨äº†ã€‚

- ä¿ä¿®ä¸¢å¤±ã€‚æ ¹æ®å°ç±³æä¾›çš„å…è´£æ¡æ¬¾ï¼Œè¿™ä¸ä»…æ˜¯åŸºç¡€ä¸‰åŒ…ï¼Œæ‚¨è´­ä¹°çš„ä¸€äº›é¢å¤–å»¶ä¿ï¼ˆå¦‚ Mi Care æˆ–ç¢å±é™©ï¼‰ä¹Ÿå¯èƒ½ä¼šä¸¢å¤±ã€‚
- åƒ Samsung Knox é‚£æ ·çš„ç¡¬ä»¶çº§ç†”æ–­ã€‚TEE ç›¸å…³åŠŸèƒ½å°†æ°¸ä¹…æŸåã€‚é™¤æ›´æ¢ä¸»æ¿å¤–ï¼Œæ— æ³•æ¢å¤ã€‚
- åˆ·å…¥ç¬¬ä¸‰æ–¹ç³»ç»Ÿåå‡ºç°åŠŸèƒ½å¼‚å¸¸ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºå†…æ ¸æºä»£ç é—­æºå¼•èµ·ã€‚
- è®¾å¤‡æˆ–è´¦å·å› ä¸ºè§£é” BootLoader è¢«å°ç±³å°ç¦ã€‚

å¦‚æœæ‚¨é‡åˆ°ä¸Šè¿°ä»»ä½•æƒ…å†µï¼Œè¯·æ‚¨è‡ªè®¤å€’éœ‰ã€‚è‡ªä»å°ç±³é™åˆ¶è§£é” BootLoader åï¼Œå°ç±³å°±ä¸€ç›´åœ¨è¿èƒŒ"æå®¢"ç²¾ç¥ï¼Œç”šè‡³è¿èƒŒäº† GPLã€‚å°ç±³å¯¹ BootLoader è§£é”çš„é™åˆ¶æ˜¯æ— ç©·å°½çš„ï¼Œä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬å¯¹æ­¤æ— èƒ½ä¸ºåŠ›ã€‚

## ğŸ“² å‰ç½®è¦æ±‚

- ä¸€ä¸ªæœ‰æ•ˆçš„è®¾å¤‡:
  - ä¸€ä¸ªæœªè¢«å°ç¦\*çš„å°ç±³ã€çº¢ç±³æˆ– POCO è®¾å¤‡ã€‚
  - è®¾å¤‡æ­£åœ¨è¿è¡Œå®˜æ–¹ç‰ˆ HyperOSã€‚
  - (2023/11/23 æ›´æ–°) æ‚¨çš„è®¾å¤‡ä¸ä¼šè¢«å°ç±³å¼ºåˆ¶éªŒè¯è´¦æˆ·èµ„æ ¼ã€‚
- ä¸€ä¸ªæœ‰æ•ˆçš„ SIM å¡:
  - \* æ— æ³•ä½¿ç”¨ SIM å¡çš„å¹³æ¿ç”µè„‘é™¤å¤–ã€‚
  - SIM å¡ä¸å¾—å¤„äºåœæœºæˆ–æ— æœåŠ¡çŠ¶æ€ã€‚
  - SIM å¡éœ€è¦èƒ½å¤Ÿè¿æ¥åˆ°äº’è”ç½‘ã€‚
  - æ¯å¼ æœ‰æ•ˆ SIM å¡åœ¨ä¸‰ä¸ªæœˆå†…åªèƒ½è§£é” 2 å°è®¾å¤‡ã€‚
- ä¸€ä¸ªæœ‰æ•ˆçš„å°ç±³è´¦å·:
  - ä¸€ä¸ªæœªè¢«å°ç¦\*çš„å°ç±³è´¦å·ã€‚
  - æ¯ä¸ªè´¦å·ä¸€ä¸ªæœˆåªèƒ½è§£é”ä¸€éƒ¨æ‰‹æœºï¼Œä¸€å¹´åªèƒ½è§£é”ä¸‰éƒ¨æ‰‹æœºã€‚
- æ‚¨å·²é˜…è¯»å¹¶ç†è§£ä¸Šè¿° [è­¦å‘Š](#%EF%B8%8F-è­¦å‘Š)ã€‚

- \* æ ¹æ®å°ç±³æä¾›çš„è§£é”è¯´æ˜ï¼ŒæŸäº›è´¦å·å’Œè®¾å¤‡å°†è¢«ç¦æ­¢ä½¿ç”¨è§£é”å·¥å…·ï¼Œè¿™è¢«ç§°ä¸º"é£æ§"ã€‚

## âš™ï¸ ä½¿ç”¨æ•™ç¨‹

1. ä» [å®˜æ–¹ç½‘ç«™](https://www.php.net/downloads) ä¸‹è½½å¹¶å®‰è£…é€‚ç”¨äºæ‚¨æ“ä½œç³»ç»Ÿçš„ PHP 8.0+ã€‚
2. åœ¨ `php.ini` ä¸­å¯ç”¨ OpenSSL å’Œ Curl æ‰©å±•ã€‚
3. å°† [php-adb](https://github.com/MlgmXyysd/php-adb) ä¸­çš„ `adb.php` æ”¾åˆ°ç›®å½•ä¸­ã€‚
4. ä¸‹è½½ [platform-tools](https://developer.android.com/studio/releases/platform-tools)ï¼Œå¹¶å°†å…¶æ”¾å…¥ `libraries`ã€‚*æ³¨æ„ï¼šMac OS éœ€è¦å°† `adb` é‡å‘½åä¸º `adb-darwin`ã€‚
5. æ‰“å¼€ç»ˆç«¯ï¼Œä½¿ç”¨ PHP è§£é‡Šå™¨æ‰§è¡Œ [è„šæœ¬](../bypass.php)ã€‚

- p.s. Releases å·²å°†æ‰€éœ€æ–‡ä»¶å’Œä¸€é”®è„šæœ¬æ‰“åŒ…ã€‚

6. å¤šæ¬¡ç‚¹å‡»`è®¾ç½® - å…³äºæ‰‹æœº - MIUI ç‰ˆæœ¬`å¯ç”¨`å¼€å‘è€…é€‰é¡¹`ã€‚
7. åœ¨`è®¾ç½® - é™„åŠ è®¾ç½® - å¼€å‘è€…é€‰é¡¹`ä¸­å¯ç”¨`OEM è§£é”`ã€`USB è°ƒè¯•`å’Œ`USB è°ƒè¯•ï¼ˆå®‰å…¨è®¾ç½®ï¼‰`ã€‚
8. ç™»å½•ä¸€ä¸ª_æœ‰æ•ˆ_\*çš„å°ç±³è´¦å·ã€‚
9. é€šè¿‡æœ‰çº¿æ–¹å¼å°†è®¾å¤‡è¿æ¥åˆ°ç”µè„‘ã€‚
10. é€‰ä¸­`å§‹ç»ˆå…è®¸æ¥è‡ªæ­¤è®¡ç®—æœºçš„è°ƒè¯•`ï¼Œç„¶åå•å‡»`ç¡®å®š`ã€‚

- \* è¯·å‚é˜…ä¸Šæ–‡çš„ "[å‰ç½®è¦æ±‚](#-å‰ç½®è¦æ±‚)"ã€‚

11. ç­‰å¾…å¹¶æŒ‰è„šæœ¬æç¤ºæ“ä½œã€‚
12. ç»‘å®šæˆåŠŸåï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ [å®˜æ–¹è§£é”å·¥å…·](https://www.miui.com/unlock/index.html) æŸ¥çœ‹éœ€è¦ç­‰å¾…çš„æ—¶é—´ã€‚
13. åœ¨ç­‰å¾…æœŸé—´ï¼Œè¯·æ­£å¸¸ä½¿ç”¨è®¾å¤‡ï¼Œä¿æŒ SIM å¡æ’å…¥ï¼Œä¸è¦ç™»å‡ºå°ç±³è´¦å·æˆ–å…³é—­"æŸ¥æ‰¾æˆ‘çš„æ‰‹æœº"ï¼Œä¸è¦é‡æ–°ç»‘å®šè®¾å¤‡ï¼Œç›´åˆ°æˆåŠŸè§£é”ã€‚è®¾å¤‡å°†æ¯éš”ä¸€æ®µæ—¶é—´è‡ªåŠ¨å‘æœåŠ¡å™¨å‘é€ `HeartBeat` æ•°æ®åŒ…ã€‚

## ğŸ“– æ¼æ´åˆ†æ

- ç»´ä¿®ä¸­...

## ğŸ”– FAQ

- Q: ä¸ºä»€ä¹ˆè§£é”å·¥å…·ä»ç„¶æé†’æˆ‘ç­‰å¾… 168/360ï¼ˆæˆ–æ›´é•¿ï¼‰å°æ—¶ï¼Ÿ
  - A: æ ¹æ®åŸç†ï¼Œè¯¥ PoC åªç»•è¿‡äº†å°ç±³ä¸º HyperOS é¢å¤–æ·»åŠ çš„é™åˆ¶ã€‚æ‚¨ä»ç„¶éœ€è¦éµå¾ª MIUI çš„é™åˆ¶ã€‚

- Q: è®¾å¤‡æ˜¾ç¤º "éªŒè¯å¤±è´¥ï¼Œè¯·ç¨åå†è¯•"ã€‚
  - A: è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼Œè®¾å¤‡ç«¯çš„ç»‘å®šè¯·æ±‚å·²è¢«è„šæœ¬æ‹¦æˆªã€‚å®é™…ç»‘å®šç»“æœä»¥è„šæœ¬æç¤ºä¸ºå‡†ã€‚

- Q: ç»‘å®šå¤±è´¥ï¼Œé”™è¯¯ä»£ç ä¸º `401`ã€‚
  - A: æ‚¨çš„å°ç±³è´¦å·å‡­æ®å·²è¿‡æœŸï¼Œæ‚¨éœ€è¦åœ¨è®¾å¤‡ä¸­ç™»å‡ºè´¦å·å¹¶é‡æ–°ç™»å½•ã€‚

- Q: ç»‘å®šå¤±è´¥ï¼Œé”™è¯¯ä»£ç ä¸º `20086`ã€‚
  - A: æ‚¨çš„è®¾å¤‡å‡­æ®å·²è¿‡æœŸï¼Œæ‚¨å¯èƒ½éœ€è¦é‡æ–°å¯åŠ¨è®¾å¤‡ã€‚

- Q: ç»‘å®šå¤±è´¥ï¼Œé”™è¯¯ä»£ç ä¸º `20090` æˆ– `20091`ã€‚
  - A: è®¾å¤‡çš„ `Security Device Credential Manager` åŠŸèƒ½å·²æŸåï¼Œè¯·è”ç³»å”®åæœåŠ¡å¯»æ±‚æ”¯æŒã€‚

- Q: ç»‘å®šå¤±è´¥ï¼Œé”™è¯¯ä»£ç ä¸º `30001`ã€‚
  - A: æ‚¨çš„è®¾å¤‡å·²è¢«å°ç±³å¼ºåˆ¶éªŒè¯è´¦æˆ·èµ„æ ¼ã€‚å°ç±³æ—©å°±æŠ›å¼ƒäº†"æå®¢"ç²¾ç¥ï¼Œæˆ‘ä»¬å¯¹æ­¤æ— èƒ½ä¸ºåŠ›ã€‚

- Q: ç»‘å®šå¤±è´¥ï¼Œé”™è¯¯ä»£ç ä¸º `86015`ã€‚
  - A: æœåŠ¡å™¨æ‹’ç»äº†æœ¬æ¬¡ç»‘å®šè¯·æ±‚ï¼Œè¯·é‡è¯•ã€‚

## âš–ï¸ åè®®

æ— è®¸å¯è¯ï¼Œæ‚¨åªè¢«å…è®¸ä½¿ç”¨æœ¬é¡¹ç›®ã€‚æœªç»è®¸å¯ï¼Œä¸å¾—åˆ é™¤æˆ–æ›´æ”¹æœ¬è½¯ä»¶çš„æ‰€æœ‰ç‰ˆæƒï¼ˆä»¥åŠé“¾æ¥ç­‰ï¼‰ã€‚æœ¬é¡¹ç›®æ‰€æœ‰æƒåˆ©å½’ [MeowCat Studio](https://github.com/MeowCat-Studio)ã€[Meow Mobile](https://github.com/Meow-Mobile) å’Œ [NekoYuzu](https://github.com/MlgmXyysd) æ‰€æœ‰ã€‚

```

`docs/README.md`:

```md
# Xiaomi HyperOS BootLoader Bypass

![Version: 1.0](https://img.shields.io/badge/Version-1.0-brightgreen?style=for-the-badge) [![ä¸­æ–‡æ–‡æ¡£](https://img.shields.io/badge/ä¸­æ–‡æ–‡æ¡£-brightgreen?style=for-the-badge)](README-zh.md) [![æ—¥æœ¬èª](https://img.shields.io/badge/æ—¥æœ¬èª-brightgreen?style=for-the-badge)](README-ja.md)

A PoC that exploits a vulnerability to bypass the Xiaomi HyperOS community restrictions of BootLoader unlocked account bindings.

Feel free pull request if you want :)

## ğŸ’˜ php-adb

The project proudly uses the [php-adb](https://github.com/MlgmXyysd/php-adb) library.

## â˜• Buy me a Coffee

âœ¨ If you like my projects, you can buy me a coffee at:

 - [çˆ±å‘ç”µ](https://afdian.net/@MlgmXyysd)
 - [PayPal](https://paypal.me/MlgmXyysd)
 - [Patreon](https://www.patreon.com/MlgmXyysd)

## âš ï¸ Warning

After unlocking the BootLoader, you may encounter the following situations:

- Software or hardware not working properly or even damaged.
- Loss of data stored in the device.
- Credit card theft, or other financial loss.

If you're experiencing any of the above, you should take all the responsibility yourself as this is the risk you may encounter when unlocking BootLoader. This obviously does not cover all risks. You've been warned.

- Warranty lost. Not only the base warranty, but some of the extra extended warranties (such as Mi Care or broken-screen warranty) that you have purchased may also be lost according to the exclusions provided by Xiaomi.
- Hardware level self-destruct like Samsung Knox. TEE-related features will be permanently damaged. There is no way to restore other than by replacing the motherboard.
- Functional anomalies after flashing a third-party system due to closed-source kernel source code.
- Device or account banned by unlocking BootLoader.

If you're experiencing any of the above, consider yourself damned. Ever since Xiaomi restricted unlocking BootLoader, it has been against Xiaomi's 'geek' spirit and even the GPL. Xiaomi's restrictions on BootLoader unlocking are endless, and there's nothing we as developers can do about it.

## ğŸ“² Unlocking requirements

- An valid device:
  - A unbanned\* Xiaomi, Redmi or POCO device.
  - Your device is running the official version of HyperOS.
  - (Update 2023/11/23) Your device is not forced to verify account qualification by Xiaomi.
- An valid SIM card:
  - \* Except for tablets that cannot use SIM cards.
  - SIM card must not be out of service.
  - SIM card needs to be able to access the internet.
  - Only 2 devices per valid SIM card are allowed to be unlock to a valid SIM card within a three-month period.
- An valid Xiaomi account:
  - A unbanned\* Xiaomi account.
  - Each account can only unlock 1 phone in a month and 3 phones in a year period.
- You have read and understood the [Warning](#%EF%B8%8F-warning) above.

- \*  According to the unlocking instructions provided by Xiaomi, it will prohibit some accounts and devices from using the unlocking tool, which is called "risk control".

## âš™ï¸ How to use

1. Download and install PHP 8.0+ for your system from the [official website](https://www.php.net/downloads).
2. Enable OpenSSL and Curl extension in `php.ini`.
3. Place `adb.php` in [php-adb](https://github.com/MlgmXyysd/php-adb) to the directory.
4. Download [platform-tools](https://developer.android.com/studio/releases/platform-tools) and place them in `libraries`. *Note: Mac OS needs to rename `adb` to `adb-darwin`.*
5. Open a terminal and use PHP interpreter to execute the [script](../bypass.php).

- p.s. Releases has packaged the required files and click-to-run scripts.

6. Tap repeatedly on the `Settings - About Phone - MIUI Version` to enable `Development Options`.
7. Enable `OEM Unlocking`, `USB Debugging` and `USB Debugging (Security Settings)` in `Settings - Additional Settings - Development Options`.
8. Log in an _valid_\* Xiaomi account.
9. Connect phone to PC via wired interface.
10. Check `Always allow from this computer` and click `OK`.

- \* See "[Unlocking Requirements](#-Unlocking-requirements)" above.

11. Wait and follow the prompts of script.
12. After successful binding, you can use the [official unlock tool](https://en.miui.com/unlock/index.html) to check the time you need to wait.
13. During the waiting period, please use the device normally, keep the SIM card inserted, do not log out of your account or turn off `Find My Phone`, and do not re-bind the device until it is successfully unlocked. The device will automatically send `HeartBeat` packets to the server every once in a while.

## ğŸ“– Workaround

- Undergoing maintenance...

## ğŸ”– FAQs

- Q: Why does the unlock tool still remind me to wait 168/360 (or more) hours?
  - A: By principle, this PoC only bypasses the restrictions added for HyperOS. You still need to comply with the restrictions for MIUI.

- Q: The device shows `Couldn't verify, wait a minute or two and try again`.
  - A: This is normal, the binding request on the device side has been blocked by our script. The actual binding result is subject to the script prompt.

- Q: Binding failed with error code `401`.
  - A: Your Xiaomi account credentials have expired, you need to log out and log in again in your device.

- Q: Binding failed with error code `20086`.
  - A: Your device credentials have expired, you need to reboot your device.

- Q: Binding failed with error code `20090` or `20091`.
  - A: Device's Security Device Credential Manager function failure, contact after-sales.

- Q: Binding failed with error code `30001`.
  - A: Your device has been forced to verify the account qualification by Xiaomi. Xiaomi lost its 'geek' spirit a long time ago, and there's nothing we can do about it.

- Q: Binding failed with error code `86015`.
  - A: The server has rejected this bind request, please try again.

## âš–ï¸ License

No license, you are only allowed to use this project. All copyright (and link, etc.) in this software is not allowed to be deleted or changed without permission. All rights are reserved by [MeowCat Studio](https://github.com/MeowCat-Studio), [Meow Mobile](https://github.com/Meow-Mobile) and [NekoYuzu](https://github.com/MlgmXyysd).

```

`libraries/placeholder`:

```
# Do NOT remove this folder
```