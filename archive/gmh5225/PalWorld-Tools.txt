Project Path: arc_gmh5225_PalWorld-Tools__gacklx_

Source Tree:

```txt
arc_gmh5225_PalWorld-Tools__gacklx_
├── Patch
│   ├── Mods
│   │   ├── AddNewModsHere.txt
│   │   ├── FlyingMountSPUsage
│   │   │   ├── Enabled.txt
│   │   │   └── Scripts
│   │   │       └── main.lua
│   │   ├── MapUnlocker
│   │   │   ├── Enabled.txt
│   │   │   └── Scripts
│   │   │       └── main.lua
│   │   ├── PlayerPointsPerLevel
│   │   │   ├── Enabled.txt
│   │   │   └── Scripts
│   │   │       └── main.lua
│   │   ├── PlayerSPUsage
│   │   │   ├── Enabled.txt
│   │   │   └── Scripts
│   │   │       └── main.lua
│   │   ├── PlayerWeight
│   │   │   ├── Enabled.txt
│   │   │   └── Scripts
│   │   │       └── main.lua
│   │   ├── RarePalAppearRate_AndLevel
│   │   │   ├── Enabled.txt
│   │   │   └── Scripts
│   │   │       └── main.lua
│   │   ├── Test
│   │   │   ├── Enabled.txt
│   │   │   └── Scripts
│   │   │       └── main.lua
│   │   └── mods.txt
│   ├── UE4SS-settings.ini
│   └── UE4SS_Signatures
│       ├── FName_Constructor.lua
│       ├── FName_ToString.lua.example
│       └── GUObjectArray.lua.example
├── Patch.zip
├── README.md
├── gui.py
├── helper.py
└── output
    ├── Patch.zip
    └── gui.exe

```

`Patch/Mods/AddNewModsHere.txt`:

```txt
Feel free to upload your Mods folder here help build up the mods list. 

```

`Patch/Mods/FlyingMountSPUsage/Scripts/main.lua`:

```lua

--Mount Flying SP Cost
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.FlyMaxHeight = 999999
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.FlyHover_SP = 0
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.FlyHorizon_SP = 0
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.FlyHorizon_Dash_SP = 0
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.FlyVertical_SP = 0
end)
--Mount Flying SP Cost

```

`Patch/Mods/MapUnlocker/Scripts/main.lua`:

```lua
--Open entire map
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
  PalGameSetting.worldmapUIMaskClearSize = 999999
end)
--Open entire map
```

`Patch/Mods/PlayerPointsPerLevel/Scripts/main.lua`:

```lua
--Level up modifier
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.technologyPointPerLevel = 50
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.StatusPointPerLevel = 50
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.TechnologyPoint_UnlockFastTravel = 10
end)
--Level up modifier
```

`Patch/Mods/PlayerSPUsage/Scripts/main.lua`:

```lua
--Player SP COST
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.SprintSP = 0
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.GliderSP = 0 --don't work for some reason.
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.Swimming_SP_Swim = 0
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.MeleeAttackSP = 0
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.JumpSP = 0
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.StepSP = 0
end)
--Player SP COST
```

`Patch/Mods/PlayerWeight/Scripts/main.lua`:

```lua
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.DefaultMaxInventoryWeight = 1000
PalGameSetting.AddMaxInventoryWeightPerStatusPoint = 50
end)
```

`Patch/Mods/RarePalAppearRate_AndLevel/Scripts/main.lua`:

```lua
--Rate Appearance
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.RarePal_AppearanceProbability = 10.0
end)
-- Level multipler 
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.RarePal_LevelMultiply = 30.0
end)
```

`Patch/Mods/Test/Scripts/main.lua`:

```lua

--random testing
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.BuildingProgressInterpolationSpeed = 1000
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.AimingSpeedRateInRide = 100
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.WorkerCollectResourceStackMaxNum = 100
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.BuildObj_HatchedPalCharacterLevel = 100
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.AddWorkSpeedPerStatusPoint = 1000
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.BuildingMaxZ = 999999
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.VisitorNPCProbability = 100
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.PalRotateSpeedToWork = 100
end)
--random testing

NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.StatusCalculate_TribeMultiply_CraftSpeed = 100
end)

NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.CharacterMaxRank = 100
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.OtomoLevelSyncAddMaxLevel = 100
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.OtomoSlotNum = 100
end)
NotifyOnNewObject("/Script/Pal.PalUtility", function(PalUtility)
PalUtility.GetDebugBotBaseCampWorkerCount = 100
end)
NotifyOnNewObject("/Script/Pal.PalBaseCampFacilityCountPair", function(FPalBaseCampFacilityCountPair)
FPalBaseCampFacilityCountPair.FacilityCount = 100
end)
NotifyOnNewObject("/Script/Pal.FPalBaseCampLevelMasterData", function(FPalBaseCampLevelMasterData)
FPalBaseCampLevelMasterData.WorkerMaxNum = 100
end)
NotifyOnNewObject("/Script/Pal.FPalOptionWorldStaticSettings", function(FPalOptionWorldStaticSettings)
FPalOptionWorldStaticSettings.BaseCampWorkerMaxNum = 100
end)
NotifyOnNewObject("/Script/Pal.FPalOptionWorldStaticSettings", function(FPalOptionWorldStaticSettings)
FPalOptionWorldStaticSettings.PalEggDefaultHatchingTime = 0
end)
NotifyOnNewObject("/Script/Pal.FPalOptionWorldStaticSettings", function(FPalOptionWorldStaticSettings)
FPalOptionWorldStaticSettings.PalCaptureRate = 100
end)
NotifyOnNewObject("/Script/Pal.FPalOptionWorldSettings", function(FPalOptionWorldSettings)
FPalOptionWorldSettings.BaseCampMaxNum = 100
end)
NotifyOnNewObject("/Script/Pal.FPalOptionWorldSettings", function(FPalOptionWorldSettings)
FPalOptionWorldSettings.BaseCampWorkerMaxNum = 100
end)

NotifyOnNewObject("/Script/Pal.FPalOptionWorldSettings", function(EPalOptionWorldDifficulty)
EPalOptionWorldDifficulty.BaseCampWorkerMaxNum = 100
EPalOptionWorldDifficulty.BaseCampMaxNum = 100
end)
NotifyOnNewObject("/Script/Pal.PalGameSetting", function(PalGameSetting)
PalGameSetting.BaseCampWorkerMaxNum = 100
PalGameSetting.BaseCampMaxNum = 100
PalGameSetting.WorkerMaxNum = 100
end)
```

`Patch/Mods/mods.txt`:

```txt
Test : 0
FlyingMountSPUsage : 1
MapUnlocker : 1
PlayerPointsPerLevel : 1
PlayerSPUsage : 1
PlayerWeight : 1
RarePalAppearRate_AndLevel : 1
```

`Patch/UE4SS-settings.ini`:

```ini
[Overrides]
; Path to the 'Mods' folder
; Default: <dll_directory>/Mods
ModsFolderPath =

[General]
EnableHotReloadSystem = 0

; Whether caches will be invalidated if ue4ss.dll has changed
; Default: 1
InvalidateCacheIfDLLDiffers = 1

; The maximum number attempts the scanner will try before erroring out if an aob isn't found
; Default: 60
MaxScanAttemptsNormal = 60

; The maximum number attempts the scanner will try for modular games before erroring out if an aob isn't found
; Default: 2000
MaxScanAttemptsModular = 2500

; Whether to create UObject listeners in GUObjectArray to create a fast cache for use instead of iterating GUObjectArray.
; Setting this to false can help if you're experiencing a crash on startup.
; Default: true
bUseUObjectArrayCache = true

[EngineVersionOverride]
MajorVersion = 
MinorVersion =

[ObjectDumper]
; Whether to force all assets to be loaded before dumping objects
; WARNING: Can require multiple gigabytes of extra memory
; WARNING: Is not stable & will crash the game if you load past the main menu after dumping
; Default: 0
LoadAllAssetsBeforeDumpingObjects = 0

[CXXHeaderGenerator]
; Whether to property offsets and sizes
; Default: 1
DumpOffsetsAndSizes = 1

; Whether memory layouts of classes and structs should be accurate
; This must be set to 1, if you want to use the generated headers in an actual C++ project
; When set to 0, padding member variables will not be generated
; NOTE: A VALUE OF 1 HAS NO PURPOSE YET! MEMORY LAYOUT IS NOT ACCURATE EITHER WAY!
; Default: 0
KeepMemoryLayout = 0

; Whether to force all assets to be loaded before generating headers
; WARNING: Can require multiple gigabytes of extra memory
; WARNING: Is not stable & will crash the game if you load past the main menu after dumping
; Default: 0
LoadAllAssetsBeforeGeneratingCXXHeaders = 0

[UHTHeaderGenerator]
; Whether to skip generating packages that belong to the engine
; Some games make alterations to the engine and for those games you might want to set this to 0
; Default: 0
IgnoreAllCoreEngineModules = 0

; Whether to skip generating the "Engine" and "CoreUObject" packages
; Default: 1
IgnoreEngineAndCoreUObject = 1

; Whether to force all UFUNCTION macros to have "BlueprintCallable"
; Note: This will cause some errors in the generated headers that you will need to manually fix
; Default: 1
MakeAllFunctionsBlueprintCallable = 1

; Whether to force all UPROPERTY macros to have "BlueprintReadWrite"
; Also forces all UPROPERTY macros to have "meta=(AllowPrivateAccess=true)"
; Default: 1
MakeAllPropertyBlueprintsReadWrite = 1

; Whether to force UENUM macros on enums to have 'BlueprintType' if the underlying type was implicit or uint8
; Note: This also forces the underlying type to be uint8 where the type would otherwise be implicit
; Default: 1
MakeEnumClassesBlueprintType = 1

; Whether to force "Config = Engine" on all UCLASS macros that use either one of:
; "DefaultConfig", "GlobalUserConfig" or "ProjectUserConfig"
; Default: 1
MakeAllConfigsEngineConfig = 1

[Debug]
; Whether to enable the external UE4SS debug console.
ConsoleEnabled = 1
GuiConsoleEnabled = 1
GuiConsoleVisible = 1

; Multiplier for Font Size within the Debug Gui
; Default: 1
GuiConsoleFontScaling = 1

; The API that will be used to render the GUI debug window.
; Valid values (case-insensitive): dx11, d3d11, opengl
; Default: opengl
GraphicsAPI = opengl

; How many objects to put in each group in the live view.
; A lower number means more groups but less lag when a group is open.
; A higher number means less groups but more lag when a group is open.
; Default: 32768
LiveViewObjectsPerGroup = 32768

[Threads]
; The number of threads that the sig scanner will use (not real cpu threads, can be over your physical & hyperthreading max)
; If the game is modular then multi-threading will always be off regardless of the settings in this file
; Min: 1
; Max: 4294967295
; Default: 8
SigScannerNumThreads = 8

; The minimum size that a module has to be in order for multi-threading to be enabled
; This should be large enough so that the cost of creating threads won't out-weigh the speed gained from scanning in multiple threads
; Min: 0
; Max: 4294967295
; Default: 16777216
SigScannerMultithreadingModuleSizeThreshold = 16777216

[Memory]
; The maximum memory usage (in percentage, see Task Manager %) allowed before asset loading (when LoadAllAssetsBefore* is 1) cannot happen.
; Once this percentage is reached, the asset loader will stop loading and whatever operation was in progress (object dump, or cxx generator) will continue.
; Default: 85
MaxMemoryUsageDuringAssetLoading = 80

[Hooks]
HookProcessInternal = 1
HookProcessLocalScriptFunction = 1
HookInitGameState = 1
HookCallFunctionByNameWithArguments = 1
HookBeginPlay = 1
HookLocalPlayerExec = 1
FExecVTableOffsetInLocalPlayer = 0x28

```

`Patch/UE4SS_Signatures/FName_Constructor.lua`:

```lua
function Register()
  return "48 89 5C 24 08 57 48 83 EC 30 48 8B D9 48 89 54 24 20 33 C9"
end

function OnMatchFound(MatchAddress)
  return MatchAddress
end

```

`Patch/UE4SS_Signatures/FName_ToString.lua.example`:

```example
function Register()
    return "C 3/3 3/C 0/4 8/8 D/5 4/2 4/2 0/4 8/8 B/C F/4 8/8 9/4 4/2 4/2 0/4 8/8 9/4 4/2 4/2 8/E 8"
end

function OnMatchFound(MatchAddress)
    local AOBSize = 22
    local CallInstr = MatchAddress + AOBSize - 1
    local InstrSize = 5
    local NextInstr = CallInstr + InstrSize
    local Offset = DerefToInt32(CallInstr + 1)
    local ToStringAddress = NextInstr + Offset
    return ToStringAddress
end
```

`Patch/UE4SS_Signatures/GUObjectArray.lua.example`:

```example
function Register()
    return "8 B/5 1/0 4/8 5/D 2/7 4/5 A/4 8/6 3/0 1/8 5/C 0/7 8/5 3/4 4/8 B/? ?/? ?/? ?/? ?/? ?/4 1/3 B/C 0/7 D/4 7/4 C/8 B"
end

function OnMatchFound(matchAddress)
    local movInstr = matchAddress + 0x1A
    local nextInstr = movInstr + 0x7
    local offset = movInstr + 0x3
    local dataMoved = nextInstr + DerefToInt32(offset) - 0x10
    
    return dataMoved
end
```

`README.md`:

```md
# PalWorlds Mod Patcher
This is meant to be a Starter Pack, a basic organized setup for those who want to start tinkering

FlyingMountSPUsage - NO SP COST While flying,
MapUnlocker - Unlock the entire map,
PlayerPointsPerLevel - Modify points increase per level,
PlayerSPUsage - No SP usage for player "except gliding for some reason",
PlayerWeight - Weight modifier "Default value may get reset when increased via points",
RarePalAppearRate_AndLevel - "Change Rare Rate Appearance rate and its level"

Modify the respective mods main.lua for the different modifiers.

## Overview

PalWorlds Mod Patcher is a PyQt5-based GUI tool designed to simplify modding for the game PalWorld. It automates the process of downloading and applying a custom patch, managing game modifications, and reverting changes as needed.

## Features

- **Download and Apply Patch**: Automatically downloads and applies the UE4SS DevKit patch to the specified PalWorld game directory.
- **Manage Mods**: Enables users to easily enable or disable mods by editing the `Mods.txt` file in a user-friendly manner.
- **Revert Changes**: Provides an option to 'Unpatch' the game, reverting it back to its pre-modded state.

## Setup

1. **Clone the Repository**:
   ```sh
   git clone https://github.com/your-github-username/palworlds-mod-patcher.git

Install Dependencies:
Ensure Python is installed on your system.
Install required Python packages

Usage
Run the Tool:

Navigate to the cloned repository's directory.
Execute the main script:
sh
Copy code
python gui.py
Select Game Path:

Use the 'Select Game Path' button to choose the PalWorld game directory.
Patch Game:

Click 'Patch Game' to download and apply the patch.
Manage Mods:

Use the 'Manage Mods' button to enable/disable mods as desired.
Unpatch Game (Optional):

To revert all changes, use the 'Unpatch Everything' button or check json file.

Contributions / Credits
https://gist.github.com/DRayX
https://github.com/UE4SS-RE/RE-UE4SS

Contributions, issues, and feature requests are welcome. Feel free to check issues page if you want to contribute.

License
Distributed under the MIT License. See LICENSE for more information.





```

`gui.py`:

```py
import sys
import os
import requests
import zipfile, tempfile, shutil
from PyQt5.QtWidgets import QApplication, QWidget, QPushButton, QFileDialog, QVBoxLayout, QLabel, QMessageBox
import json
import helper  # Import the helper module

class Downloader(QWidget):
    def __init__(self):
        super().__init__()
        self.gameFolderPath = None
        self.addedFiles = []  # List to keep track of added files
        self.initUI()
        self.handle_errors(self.load_startup_config)
        
    def handle_errors(self, func, *args, **kwargs):
        try:
            func(*args, **kwargs)
        except Exception as e:
            self.infoLabel.setText(f'Error: {e}')
    def load_startup_config(self):
        patch_data = self.load_patch_data()
        if patch_data:
            self.gameFolderPath = patch_data['folder_path']
            self.addedFiles = patch_data['added_files']
            self.folderPathLabel.setText(f'Selected Folder: {self.gameFolderPath}')
            self.patchGameBtn.setEnabled(True)
            self.unpatchBtn.setEnabled(True)
        else:
            self.folderPathLabel.setText('No folder selected')
            self.patchGameBtn.setEnabled(False)
            self.unpatchBtn.setEnabled(False)
    
    def initUI(self):
        self.setWindowTitle('PalWorlds Mod Patcher')
        layout = QVBoxLayout()

        self.infoLabel = QLabel('INFO: Pal World default Game path: Steam\steamapps\common\Palworld\Pal\Binaries\Win64')
        layout.addWidget(self.infoLabel)
        self.infoLabel2 = QLabel('WARNING: This will download "UE4SS DevKit" and apply the custom patch made to the game.')
        layout.addWidget(self.infoLabel2)
        self.infoLabel3 = QLabel('INFO: Unpatch will only work with Admin folder permission to delete the files added by the patch, for manual deletion check json file for added files.')
        layout.addWidget(self.infoLabel3)

        self.infoLabel6 = QLabel('STEP 1. Select PalWorld Game Path, STEP 2. Patch Game, STEP 3. Modify Mods.txt, STEP 4. Restart Game')
        layout.addWidget(self.infoLabel6)
        self.folderPathLabel = QLabel('No folder selected please ')
        layout.addWidget(self.folderPathLabel)

        self.selectFolderBtn = QPushButton('Select PalWorld Game Path', self)
        self.selectFolderBtn.clicked.connect(self.select_folder)
        layout.addWidget(self.selectFolderBtn)

        self.patchGameBtn = QPushButton('Patch Game', self)
        self.patchGameBtn.clicked.connect(self.patch_game)
        self.patchGameBtn.setEnabled(False)  # Disable this button initially
        layout.addWidget(self.patchGameBtn)
        
        self.unpatchBtn = QPushButton('Unpatch Everything', self)
        self.unpatchBtn.clicked.connect(self.unpatch_game)
        self.unpatchBtn.setEnabled(False)  # Disable this button initially
        layout.addWidget(self.unpatchBtn)


        # Button for managing mods
        self.infoLabel4 = QLabel('INFO: Enable/Disable Below - 0 = Disable, 1 = Enable.')
        layout.addWidget(self.infoLabel4)
        self.infoLabel5 = QLabel('INFO: Restart Game for it to take effect.')
        layout.addWidget(self.infoLabel5)
        self.manageModsBtn = QPushButton('Manage Mods.txt', self)
        self.manageModsBtn.clicked.connect(self.manage_mods)
        layout.addWidget(self.manageModsBtn)

        self.setLayout(layout)
        self.show()
        
    def manage_mods(self):
        self.handle_errors(self._manage_mods)

    def _manage_mods(self):
        result = helper.manage_mods(self.gameFolderPath)
        QMessageBox.information(self, "Manage Mods", result)


    def select_folder(self):
        self.gameFolderPath = QFileDialog.getExistingDirectory(self, "Select Game Directory")
        if self.gameFolderPath:
            self.folderPathLabel.setText(f'Selected Folder: {self.gameFolderPath}')
            self.patchGameBtn.setEnabled(True)
            self.unpatchBtn.setEnabled(True)
            self.save_patch_data()
        else:
            self.folderPathLabel.setText('No folder selected')
            self.patchGameBtn.setEnabled(False)
            self.unpatchBtn.setEnabled(False)

    def patch_game(self):
        if self.gameFolderPath:
            self.handle_errors(self._perform_patching)

    def _perform_patching(self):
        self.infoLabel.setText('Downloading...')
        zip_url = 'https://github.com/UE4SS-RE/RE-UE4SS/releases/download/v2.5.2/zDEV-UE4SS_Xinput_v2.5.2.zip'
        zip_path = os.path.join(tempfile.gettempdir(), 'downloaded.zip')
        self.download_file(zip_url, zip_path)
        self.infoLabel.setText('Unzipping tool...')

        with tempfile.TemporaryDirectory() as temp_dir:
            self.unzip_file(zip_path, temp_dir)
            self.copy_contents(temp_dir, self.gameFolderPath)

        # Delete existing Mods folder and UE4SS-settings.ini file if they exist
        mods_folder_path = os.path.join(self.gameFolderPath, 'Mods')
        settings_ini_path = os.path.join(self.gameFolderPath, 'UE4SS-settings.ini')
        if os.path.exists(mods_folder_path):
            shutil.rmtree(mods_folder_path)
        if os.path.exists(settings_ini_path):
            os.remove(settings_ini_path)

        self.infoLabel.setText('Applying mods...')
        self.apply_mods(self.gameFolderPath)
        self.save_patch_data()
        self.infoLabel.setText('Process completed!')


    def copy_contents(self, src, dst):
        # Identify the correct folder to copy from
        src_folder = os.path.join(src, 'DEV-UE4SS_Xinput_v2.5.2')
        if not os.path.exists(src_folder):
            raise FileNotFoundError(f"Expected folder not found in the zip: {src_folder}")

        for item in os.listdir(src_folder):
            s = os.path.join(src_folder, item)
            d = os.path.join(dst, item)
            if os.path.isdir(s):
                shutil.copytree(s, d, dirs_exist_ok=True)
            else:
                shutil.copy2(s, d)
                if not item.lower().endswith('.zip'):  # Don't add ZIP files to addedFiles
                    self.addedFiles.append(os.path.relpath(d, dst))


    def download_file(self, url, path):
        response = requests.get(url)
        with open(path, 'wb') as file:
            file.write(response.content)

    def unzip_file(self, zip_path, extract_to, exclude_from_added_files=False):
        with zipfile.ZipFile(zip_path, 'r') as zip_ref:
            zip_ref.extractall(extract_to)
            if not exclude_from_added_files:
                self.addedFiles.extend(zip_ref.namelist())

    def apply_mods(self, target_folder):
        mods_zip_path = 'Patch.zip'  #Patch file
        self.unzip_file(mods_zip_path, target_folder, exclude_from_added_files=True)


    def unpatch_game(self):
        self.handle_errors(self._unpatch_game)

    def _unpatch_game(self):
        patch_data = self.load_patch_data()
        if patch_data:
            folder_path = patch_data['folder_path']
            for file in patch_data['added_files']:
                try:
                    file_path = os.path.join(folder_path, file)
                    if os.path.exists(file_path):
                        os.remove(file_path)
                except Exception as e:
                    self.infoLabel.setText(f'Error deleting file {file_path}: {e}')
                    return
            self.infoLabel.setText('All patched files have been removed.')
        else:
            self.infoLabel.setText('No patch data found.')



    def save_patch_data(self):
        patch_data = {
            'folder_path': self.gameFolderPath,
            'added_files': self.addedFiles
        }
        with open('patch_data.json', 'w') as file:
            json.dump(patch_data, file)

    def load_patch_data(self):
        try:
            with open('patch_data.json', 'r') as file:
                return json.load(file)
        except FileNotFoundError:
            return None


if __name__ == '__main__':
    app = QApplication(sys.argv)
    ex = Downloader()
    sys.exit(app.exec_())

```

`helper.py`:

```py
import os
import webbrowser

def manage_mods(game_path):
    mods_file_path = os.path.join(game_path, 'Mods', 'Mods.txt')
    
    if not os.path.exists(mods_file_path):
        return f"Mods.txt not found at: {mods_file_path}"

    # Attempt to open Mods.txt in the default text editor
    try:
        webbrowser.open(mods_file_path)
        return "Mods.txt opened in the default text editor. Make sure to save the file before exiting the editor."
    except Exception as e:
        return f"Error opening Mods.txt: {e}"

```